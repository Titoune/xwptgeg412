<!--
  Generated template for the PollCreatePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Cr√©er un sondage</ion-title>
  </ion-navbar>

</ion-header>



<ion-content padding>
  <p *ngIf="isLoading == true">
    <ion-spinner></ion-spinner>
    Chargement en cours...
  </p>
  <p *ngIf="isLoadingError == true">
    Erreur de chargement.
  </p>

  <form *ngIf="isLoading == false && isLoadingError == false" [formGroup]="poll_form" (ngSubmit)="submit()">
    <ion-list>
      <ion-item>
        <ion-label stacked>Question</ion-label>
        <ion-input
          [class.invalid]="!poll_form.controls.question.valid && (poll_form.controls.question.dirty || submitAttempt)"
          type="text" formControlName="question" [ngModel]="poll.question"></ion-input>
      </ion-item>
      <p class="form-error" *ngIf="poll_form.controls.question.errors">
        {{poll_form.controls.question.errors.error}}
      </p>

    </ion-list>
    <button padding ion-button color="primary" [disabled]="!poll_form.valid" block>Enregistrer</button>
  </form>
</ion-content>
